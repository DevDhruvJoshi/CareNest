# Cursor Rules for CareNest

## Environments
- Always target Node 20 and npm 10.
- Do not downgrade npm; workspace protocol must be supported.

## Dependencies & Installs
- Prefer workspace-aware installs. At repo root use: `npm install --workspaces --include-workspace-root`.
- Lockfile: prefer committing `package-lock.json`; if not present, do not enable cache in CI.
- Do not introduce `pnpm` or `yarn` unless discussed.

## Monorepo Linking
- When workspace protocol fails in CI, temporarily replace `workspace:*` with `file:../../<path>` in dependents to unblock builds.
- Keep internal package `@carenest/db` building types (`.d.ts`).

## TypeScript
- Emit declarations for shared packages (`declaration: true`).
- Do not suppress type errors with `any` unless absolutely necessary and documented.

## Formatting & EOL
- Respect `.editorconfig` and `.gitattributes`.
- Use LF endings; avoid CRLF churn.

## CI
- Use GitHub Actions with Node 20 and npm 10.
- If lockfile is committed, use `npm ci`; otherwise use `npm install` without cache.

## Security
- Do not commit secrets. Use `.env.local` locally; keep samples updated.

## README/Docs
- Update `README.md` and `apps/*/env.sample` when adding env vars or endpoints.

